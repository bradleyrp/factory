
# Install programs with spack.
# To use: `make use specs/cli_spack.yaml`
# To run: `make spack_tree specs/spack_tree.yaml gromacs_gcc6`

# spack clone parent (for this file)
spot: ./local
# spack environments (for this file)
spot_envs: ./local/envs_spack

# template for spack.yaml used below
template_basic: 
  concretization: separately
  mirrors: {}
  repos: []
  upstreams: {}
  modules:
    enable: []
  definitions: []
  packages: {}
  config: 
    checksum: false
  specs: []
  view: false

gromacs_gcc6:
  notes: |
    This sequence installs gcc 6 which is necessary for compiling for skylake.
    Then it compiles gromacs with gcc 6 and little else.
  envs:
    - name: env_gcc_6.4.0
      via: template_basic
      specs: ['gcc@6.4.0']
    - name: env_gromacs
      via: template_basic
      specs: ['gromacs@2019.3%gcc@6.4.0']
